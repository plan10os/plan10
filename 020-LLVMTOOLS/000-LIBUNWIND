# Set CC and CXX compiler with gcc as libunwind will nit build against libc++
export CXX=${PLAN10_TARGET}-g++
export CC=${PLAN10_TARGET}-gcc


cd libunwind

cmake -B build -G Ninja \
      -DCMAKE_INSTALL_PREFIX=/llvmtools \
      -DLIBUNWIND_ENABLE_SHARED=ON \
      -DCMAKE_C_FLAGS="-fPIC" \
      -DCMAKE_CXX_FLAGS="-fPIC"

ninja -C build 

ninja -C build install

rm -rf build       
